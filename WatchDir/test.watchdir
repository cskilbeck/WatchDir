<?xml version="1.0" encoding="utf-8"?>

<watcher>

  <watch>
    <path>%USERPROFILE%\Projects\_Test</path>            <!-- path to monitor -->
    <recursive>true</recursive>                         <!-- monitor subfolders -->
    <triggers>write</triggers>                          <!-- read write (&others) -->
    <ignore>*.sln;*.txt</ignore>                        <!-- include everything except these -->
    <include>*.cpp;*.h</include>                        <!-- only include these -->
    <settleDelay>0.5</settleDelay>                      <!-- waits for this much idle time before kicking off commands -->

    <command async="true">
      <exec async="true">winscp open "FatCow" upload %{filename} exit</exec>
    </command>

    <command>
      <exec>mkdir Z:\%{folder}</exec>
    </command>

    <command on="create modify">
      <exec>copy /y %{fullpath} Z:%{folder}</exec>
      <exec>echo Copied %{fullpath} to Z:%{folder}</exec>
    </command>

    <command on="rename">
      <exec>ren /y Z:%{folder}%{oldfilename} Z:%{folder}%{filename}</exec>
    </command>

    <command on="delete">
      <exec>del /y Z:%{folder}%{filename}</exec>
    </command>
  </watch>

</watcher>

<!-- create modify rename delete -->